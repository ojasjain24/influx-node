var spawn = require('child_process').spawn

function start (options) {
  var influxd = spawn('influxd')

  influxd.stdout.on('data', (data) => {
    console.log(`stdout: ${data}`)
  })

  influxd.stderr.on('data', (data) => {
    console.log(`stderr: ${data}`)
  })

  influxd.on('close', (code) => {
    console.log(`child process exited with code ${code}`)
  })

  return influxd
}

function stop (influxd) {
  influxd.kill()
}

module.exports = {
  start: start,
  stop: stop
}
